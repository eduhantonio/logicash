{% extends 'auth/base_auth.html' %}

{% block title %}Login - LogiCash{% endblock %}

{% block card_header %}
    <h2><i class="fas fa-sign-in-alt"></i> Entrar</h2>
    <p>Faça login para acessar sua conta LogiCash</p>
{% endblock %}

{% block card_body %}
    <form method="post" class="auth-form">
        {% csrf_token %}
        
        <!-- Campo de Usuário -->
        <div class="form-group">
            <label for="{{ form.username.id_for_label }}" class="form-label">
                <i class="fas fa-user"></i> {{ form.username.label }}
            </label>
            {{ form.username }}
            {% if form.username.errors %}
                <div class="form-errors">
                    {% for error in form.username.errors %}
                        <small class="text-danger">{{ error }}</small>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Campo de Senha -->
        <div class="form-group">
            <label for="{{ form.password.id_for_label }}" class="form-label">
                <i class="fas fa-lock"></i> {{ form.password.label }}
            </label>
            {{ form.password }}
            {% if form.password.errors %}
                <div class="form-errors">
                    {% for error in form.password.errors %}
                        <small class="text-danger">{{ error }}</small>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Lembrar de mim -->
        <div class="form-group">
            <div class="form-check">
                {{ form.remember_me }}
                <label class="form-check-label" for="{{ form.remember_me.id_for_label }}">
                    {{ form.remember_me.label }}
                </label>
            </div>
        </div>

        <!-- Botão de Submit -->
        <div class="form-group">
            <button type="submit" class="btn btn-primary auth-btn">
                <i class="fas fa-sign-in-alt"></i>
                Entrar
            </button>
        </div>

        <!-- Links de Ajuda -->
        <div class="auth-help-links">
            <a href="{% url 'password_reset' %}" class="auth-link">
                <i class="fas fa-key"></i>
                Esqueci minha senha
            </a>
        </div>
    </form>
{% endblock %}

{% block auth_links %}
    <div class="auth-switch">
        <p>Não tem uma conta?</p>
        <a href="{% url 'signup' %}" class="btn btn-outline-primary">
            <i class="fas fa-user-plus"></i>
            Criar Conta
        </a>
    </div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Animação de entrada dos campos
    const formGroups = document.querySelectorAll('.form-group');
    formGroups.forEach((group, index) => {
        group.style.opacity = '0';
        group.style.transform = 'translateY(20px)';
        
        setTimeout(() => {
            group.style.transition = 'all 0.6s ease-out';
            group.style.opacity = '1';
            group.style.transform = 'translateY(0)';
        }, index * 100);
    });

    // Efeito de foco nos inputs
    const inputs = document.querySelectorAll('.auth-input');
    inputs.forEach(input => {
        input.addEventListener('focus', function() {
            this.parentElement.classList.add('focused');
        });
        
        input.addEventListener('blur', function() {
            if (!this.value) {
                this.parentElement.classList.remove('focused');
            }
        });
        
        // Verificar se já tem valor ao carregar
        if (input.value) {
            input.parentElement.classList.add('focused');
        }
    });

    // Animação do botão
    const submitBtn = document.querySelector('.auth-btn');
    submitBtn.addEventListener('mouseenter', function() {
        this.style.transform = 'translateY(-2px)';
    });
    
    submitBtn.addEventListener('mouseleave', function() {
        this.style.transform = 'translateY(0)';
    });
});
</script>
{% endblock %}
